# USDT Staking Vault – EDUChain

---

## 🎯 Goals

1. **Increase Stablecoin TVL on EDUChain**
   - Attract USDT/USDC from Arbitrum and other chains.
   - Users mint OCUSD on EDUChain using bridged stables.
   - Restrict OCUSD withdrawals to EDUChain to retain liquidity.

2. **Deliver Sustainable Yield for Stablecoin Holders**
   - Deploy bridged stables into off-chain or L2 strategies.
   - Return yield via `REWARDER_ROLE` calls to on-chain vaults.

---

## 📝 Product Concept

Users deposit USDT/USDC → mint OCUSD → stake OCUSD → earn yield from externally deployed strategies.

---

## 🔑 Key Features

- **OCUSD (ERC20 Stablecoin)**
  - Minted from USDT or USDC
  - Redeemable with cooldown

- **sOCUSD (ERC4626 Vault Token)**
  - Capital-appreciating yield-bearing token
  - Cooldown and claim process

- **Manual Yield Streaming**
  - Yield streamed by multisig/backend using `transferInRewards()`
  - Controlled via `REWARDER_ROLE`

- **Governance Parameters**
  - Fee configuration, minter roles, pause, blacklist

---

## 🧩 Strategy Management Requirements

### Day 1 Setup
- Use a single yield source to simplify operational load.

### Future Flexibility
- Add support for multiple yield sources.
- Allow dynamic addition and deprecation of yield strategies.

### Architecture
- Abstract strategy interface for all yield sources.
- Strategy registry or controller to manage:
  - Enabled/disabled status
  - Routing of deposits and withdrawals

### Governance
- Admin-configurable strategy list.
- Access controlled via role-based permissions (e.g. `REWARDER_ROLE`).

### Operational Capabilities
- Migrate funds between strategies.
- Perform health and safety checks during transitions.

---

## 📋 Task Overview

### Protocol Review
- ✅ Review Ethena/USDX contracts
- ✅ Confirm no licensing issues
- ✅ Confirm minting and staking logic

### Architecture / Product
- 🔲 Finalize redemption chain (Arbitrum vs EDUChain)
- 🔲 UX flow for cooldown and redemption
- 🔲 Model backend strategy (e.g. Ethena yield routing)

### Smart Contracts
- 🔲 ERC20: OCUSD (mintable, burnable)
- 🔲 ERC4626: sOCUSD
- 🔲 Strategy management interface
- 🔲 Yield streaming logic
- 🔲 Cooldown + claim mechanism

### Backend / Admin
- 🔲 Reward streaming script
- 🔲 NAV and performance dashboard
- 🔲 Admin panel (pause, fees, governance actions)

---

## 🧪 Fork Comparison

| Protocol | Mintable ERC20 | ERC4626 Vault | Cooldown | Manual Rewards | License | Notes            |
|----------|----------------|---------------|----------|----------------|---------|------------------|
| Ethena   | ✅             | ✅            | ✅       | ✅             | None    | Preferred option |
| USDX     | ✅             | ✅            | ✅       | ✅             | None    | Viable fallback  |
| Anzen    | ✅             | ✅            | ❌       | ❌             | Unknown | Lower control    |
| USDa     | ❌             | ✅ (sUSDa)    | ✅       | Partial        | Unknown | Minting limited  |

---

## 🔧 Smart Contract Requirements

### OCUSD (ERC20)

**P0:**
- Mintable by permissioned address
- Role-based minter logic
- Burn/redeem function
- Governance: pause, blacklist, minter roles

**P1:**
- Optional OFT compatibility (LayerZero)

---

### Minting / Sales Contract

**P0:**
- Functions: `buy()`, `claim()`, `redeem()`, `cooldown()`
- Configurable fees
- Cooldown period setting
- List of accepted stablecoins

---

### ERC4626 Vault (sOCUSD / sEDU)

**P0:**
- Cooldown initiation: `cooldownAssets()` / `cooldownShares()`
- Redemption via `claim()` or `unstake()`
- APY previews: `previewWithdraw()` / `getAmountByShares()`
- Yield injection: `transferInRewards()` via `REWARDER_ROLE`
- Governance parameters

---

## 🖥️ UI/UX Requirements

### Mint / Buy Page

**Features:**
- Convert USDT/USDC to OCUSD
- Display rates, balances, and slippage
- Gas estimator
- Wallet integrations

### Stake Page – sOCUSD

**Features:**
- Stake OCUSD → sOCUSD
- Show APY, rewards, cooldown
- NAV and reward tracking

### Stake Page – sEDU

**Features:**
- Stake EDU → sEDU
- Show capital growth and DeFi integrations
- Configurable cooldown period

### Collateral Page (V2)

**Features:**
- OCUSD collateral breakdown
- List of active yield strategies
- NAV and fund transparency

---

## 🔄 User Flow

### Stablecoin Flow
1. Deposit USDT/USDC
2. Mint OCUSD
3. Stake OCUSD → sOCUSD
4. Earn yield
5. Initiate cooldown
6. Claim and withdraw

### EDU Flow
1. Stake EDU → sEDU
2. Use in DeFi
3. Unstake after cooldown

---

## 📚 References

- [User Journey](https://www.notion.so/USDC-USDT-EDU-Staking-Product-1ab4928fd54f803ba3a7de71db203000?pvs=21)
- [Figma UI](https://www.figma.com/design/xk5z81PtVXToSb7WBqYUrq/EDU-Chain-projects?node-id=264-3195)
- [Legal Brief](https://www.notion.so/EDUChain-Staking-Product-Legal-Brief-1-1fa4928fd54f803fb750e3a587e18ec0?pvs=21)
- [Rings](https://rings.money/?ref=blog.soniclabs.com)

---

## 📊 Yield Protocol Data

### Lending Pools

| Pool           | Project          | TVL     | APY    | Base APY | Reward APY | 30d Avg |
|----------------|------------------|---------|--------|----------|------------|---------|
| USDC           | AAVE V3          | $43.7M  | 3.62%  | 3.62%    | –          | 3.52%   |
| USDC           | Fluid Lending    | $29.3M  | 6.40%  | 3.29%    | 3.11%      | 6.21%   |
| USDT           | AAVE V3          | $18.8M  | 3.34%  | 3.34%    | –          | 3.59%   |
| USDT           | Fluid Lending    | $17.6M  | 7.76%  | 2.57%    | 5.19%      | 7.43%   |

### Basis Trading Protocols

| Name                  | Chains | TVL     | Fees 7d | Fees 24h | Mcap/TVL |
|-----------------------|--------|---------|---------|----------|-----------|
| Stables Labs USDX     | 3      | $105.8M | $21,037 | $3,326   | –         |
| Theo Network          | 4      | $10.7M  | –       | –        | –         |
| BasisOS               | 1      | $5.0M   | $3,420  | $677     | 2.16      |

### RWA Protocols

| Name                 | Chains | TVL     | 30d Change | Revenue 24h | Mcap/TVL |
|----------------------|--------|---------|------------|-------------|-----------|
| Spiko                | 5      | $101.6M | +31.19%    | –           | –         |
| Franklin Templeton   | 7      | $72.2M  | -31.24%    | –           | –         |
| BlackRock BUIDL      | 6      | $31.1M  | +0.31%     | –           | 93.12     |
| Ondo Finance         | 8      | $6.2M   | -7.44%     | $712        | 439.51    |
| OpenEden             | 6      | $5.8M   | +0.91%     | $47         | –         |
